syntax = "proto3";

package proto;

option csharp_namespace = "DysonNetwork.Shared.Proto";

import "google/protobuf/timestamp.proto";
import "google/protobuf/wrappers.proto";
import "file.proto";
import "publisher.proto";

enum LiveStreamType {
  LIVE_STREAM_TYPE_UNSPECIFIED = 0;
  REGULAR = 1;
  INTERACTIVE = 2;
}

enum LiveStreamVisibility {
  LIVE_STREAM_VISIBILITY_UNSPECIFIED = 0;
  PUBLIC = 1;
  UNLISTED = 2;
  PRIVATE = 3;
}

enum LiveStreamStatus {
  LIVE_STREAM_STATUS_UNSPECIFIED = 0;
  PENDING = 1;
  ACTIVE = 2;
  ENDED = 3;
  ERROR = 4;
}

enum LiveStreamAwardAttitude {
  LIVE_STREAM_AWARD_ATTITUDE_UNSPECIFIED = 0;
  LIVE_STREAM_AWARD_POSITIVE = 1;
  LIVE_STREAM_AWARD_NEUTRAL = 2;
  LIVE_STREAM_AWARD_NEGATIVE = 3;
}

message LiveStream {
  string id = 1;
  string title = 2;
  string description = 3;
  string slug = 4;
  LiveStreamType type = 5;
  LiveStreamVisibility visibility = 6;
  LiveStreamStatus status = 7;
  string room_name = 8;
  string ingress_id = 9;
  string ingress_stream_key = 10;
  string egress_id = 11;
  string hls_egress_id = 12;
  string hls_playlist_url = 13;
  google.protobuf.Timestamp hls_started_at = 14;
  google.protobuf.Timestamp started_at = 15;
  google.protobuf.Timestamp ended_at = 16;
  int32 viewer_count = 17;
  int32 peak_viewer_count = 18;
  CloudFile thumbnail = 19;
  bytes metadata = 20;
  string publisher_id = 21;
  Publisher publisher = 22;
  google.protobuf.Timestamp created_at = 23;
  google.protobuf.Timestamp updated_at = 24;
  google.protobuf.Timestamp deleted_at = 25;
  int64 duration_seconds = 26;
  int64 total_duration_seconds = 27;
  double total_award_score = 28;
}

message LiveStreamAward {
  string id = 1;
  double amount = 2;
  LiveStreamAwardAttitude attitude = 3;
  string message = 4;
  string live_stream_id = 5;
  string account_id = 6;
  google.protobuf.Timestamp created_at = 7;
  google.protobuf.Timestamp updated_at = 8;
}
